local PLUGIN = PLUGINPLUGIN.name = "Video scenes"PLUGIN.author = "jb"PLUGIN.description = "Load a video on a player's screen"if SERVER then    util.AddNetworkString("run_video")    util.AddNetworkString("stop_video")    function PLUGIN:runVideo(client, url)        net.Start("run_video")        net.WriteString(url)        net.Send(client)    end    function PLUGIN:runVideoAll(url)        net.Start("run_video")        net.WriteString(url)        net.Broadcast()    end    function PLUGIN:stopVideo()        net.Start("stop_video")        net.Broadcast()    endelse    function PLUGIN:runVideo(url)        cutscene = vgui.Create("DHTML")        timer.Simple(1, function()            cutscene:SetSize(ScrW(), ScrH())            cutscene:SetPos(0, 0)            cutscene:OpenURL(url)        end)    end    function PLUGIN:stopVideo()        if IsValid(cutscene) then            cutscene:Remove()            for _, ply in ipairs(player.GetAll()) do                ply:ScreenFade(SCREENFADE.IN, color_black, 3, 1)            end            cutscene = nil        end    end    net.Receive("run_video", function(url)        local url = net.ReadString()        PLUGIN:runVideo(url)    end)    net.Receive("stop_video", function(url)        PLUGIN:stopVideo()    end)endix.command.Add("PlayVideoTarget", {    description = "Plays a video for a single player",    adminOnly = true,    arguments = {ix.type.player, ix.type.string},    OnRun = function(self, client, target, url)        target:ScreenFade(SCREENFADE.OUT, color_black, 1, 1)        PLUGIN:runVideoAll(target, url)    end})ix.command.Add("PlayVideoAll", {    description = "Plays a video for all players",    adminOnly = true,    arguments = {ix.type.string},    OnRun = function(self, client, url)        for _, ply in ipairs(player.GetAll()) do            ply:ScreenFade(SCREENFADE.OUT, color_black, 1, 1)        end        PLUGIN:runVideoAll(url)    end})ix.command.Add("StopVideoAll", {    description = "Stops a video for all players currently watching one",    adminOnly = true,    OnRun = function(self, client)        PLUGIN:stopVideo()    end})